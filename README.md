# **Форум на PHP + JWT**

Это учебный форум, реализованный на **чистом PHP**, с поддержкой:

- Авторизации через JWT (токены хранятся в cookie)
- Создания тем и ответов от авторизованных пользователей
- Редактирования и удаления своих комментариев
- Администрирования всех ответов (роль `admin`)
- Поиска по авторам
- Системы голосований (polls)
- Юнит-тестов (PHPUnit)
- Документации в формате Postman

---

##  Запуск проекта

1. Убедитесь, что у вас установлены:
   - PHP >= 7.4
   - MySQL
   - Apache или встроенный сервер PHP

2. Создайте базу данных и импортируйте структуру (создайте таблицы вручную или используйте \`forum.sql\`, если есть).

3. Запустите проект локально:

\`\`\`bash
php -S localhost:8000
\`\`\`

4. Перейдите в браузере: [http://localhost:8000](http://localhost:8000)

---

##  Авторизация и роли

- Используется **JWT** для защиты API.
- После входа токен сохраняется в cookie.
- Все действия (добавление, удаление, редактирование) проверяют авторство.
-  **Роль \`admin\`** может редактировать и удалять любые ответы через \`admin_replies.php\`.

Чтобы сделать пользователя админом:
\`\`\`sql
UPDATE users SET role = 'admin' WHERE username = 'имя_пользователя';
\`\`\`

---

##  Функции форума

-  JWT-авторизация
-  Создание тем и ответов
-  Удаление / редактирование только своих комментариев (или всех — если \`admin\`)
-  Поиск по авторам
-  Фильтрация по тегам
-  Голосование с результатами
-  Unit-тесты (PHPUnit)
-  Документация запросов (Postman)

---

##  Юнит-тесты

В папке \`tests/\` находятся примеры тестов (например, \`ReplyTest.php\`).

Для запуска:

1. Установите PHPUnit:
\`\`\`bash
composer require --dev phpunit/phpunit
\`\`\`

2. Запуск:
\`\`\`bash
./vendor/bin/phpunit tests/
\`\`\`

---

##  Документация Postman

1. Открой Postman.
2. Импортируй файл \`postman/forum.postman_collection.json\`.
3. Там уже есть запросы на:
   - Авторизацию
   - Получение тем
   - Добавление комментариев

---

##  Реализовано

- [x] JWT-авторизация
- [x] Роли (\`user\`, \`admin\`)
- [x] CRUD для тем и ответов
- [x] Поиск по авторам
- [x] Теги и фильтрация
- [x] Голосование + результаты
- [x] Защита от XSS
- [x] Админ-панель
- [x] Юнит-тесты
- [x] Postman-документация
- [x] README

---

##  Автор

Егорова Марина, К-821."
